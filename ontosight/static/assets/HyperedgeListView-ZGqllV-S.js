import{u as b,r as a,j as e,B as c}from"./index-Djf0YLQL.js";import{I as v}from"./item-card-DWd6jM3n.js";import{C as N,a as w}from"./chevron-right-DKkfwnER.js";const S=({meta:H})=>{const{fetchHyperedgesList:r,selectedItems:m,currentPage:t,setCurrentPage:i,selectItem:x,deselectItem:C}=b(),[d,h]=a.useState([]),[o,g]=a.useState(0),[u,f]=a.useState(!1),[p,n]=a.useState(!0);return a.useEffect(()=>{(async()=>{n(!0);try{const s=await r(t,12);console.log("HyperedgeListView.loadHyperedges",{page:t,result:s}),h(s.items||[]),g(s.total||0),f(s.has_next||!1)}catch(s){console.error("Failed to load hyperedges:",s)}finally{n(!1)}})()},[t,r]),e.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 border-b border-border bg-muted/30 px-4 py-3",children:e.jsxs("h2",{className:"text-lg font-semibold",children:["所有超边 (",o,")"]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsx("div",{className:"p-4 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 auto-rows-max",children:p?e.jsx("div",{className:"col-span-full text-center text-muted-foreground py-8",children:"加载中..."}):d.length===0?e.jsx("div",{className:"col-span-full text-center text-muted-foreground py-8",children:"没有超边"}):d.map(l=>{const s=l.id,j=l.highlighted===!0;return e.jsx(v,{id:s,label:l.label||"Unknown Hyperedge",type:"hyperedge",metadata:Object.fromEntries(Object.entries(l).filter(([y])=>!["id","label","type","highlighted"].includes(y))),isSelected:m.has(s),isHighlighted:j,onClick:()=>{x(s,"hyperedge")}},s)})})}),e.jsxs("div",{className:"flex-shrink-0 border-t border-border bg-muted/30 px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["第 ",t+1," 页 (共 ",Math.ceil(o/12)," 页)"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>i(Math.max(0,t-1)),disabled:t===0,children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>i(t+1),disabled:!u,children:e.jsx(w,{className:"w-4 h-4"})})]})]})]})};export{S as default};
//# sourceMappingURL=HyperedgeListView-ZGqllV-S.js.map
