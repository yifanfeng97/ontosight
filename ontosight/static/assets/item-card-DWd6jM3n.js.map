{"version":3,"file":"item-card-DWd6jM3n.js","sources":["../../../frontend/src/components/ui/item-card.tsx"],"sourcesContent":["/**\r\n * Standard ItemCard UI component for displaying items in grid/list layouts.\r\n * Displays label, type badge, and metadata preview from raw data.\r\n * \r\n * This is a pure UI component - parent components handle selection logic via onClick.\r\n */\r\n\r\nimport React, { useMemo } from \"react\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { cn } from \"@/utils\";\r\n\r\nexport interface ItemCardProps {\r\n  /** Unique item identifier */\r\n  id: string;\r\n  /** Display label */\r\n  label: string;\r\n  /** Item type for badge and styling */\r\n  type: \"node\" | \"edge\" | \"hyperedge\" | \"item\";\r\n  /** Metadata for preview display */\r\n  metadata?: Record<string, any>;\r\n  /** Whether item is currently selected */\r\n  isSelected?: boolean;\r\n  /** Whether item is highlighted from search results */\r\n  isHighlighted?: boolean;\r\n  /** Click handler for selection/deselection */\r\n  onClick?: () => void;\r\n  /** Additional CSS classes */\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * ItemCard component - displays a card with label, type badge, and metadata preview.\r\n * \r\n * @example\r\n * <ItemCard\r\n *   id=\"node_1\"\r\n *   label=\"Alice\"\r\n *   type=\"node\"\r\n *   metadata={{ raw: { name: \"Alice\", age: 30 }, category: \"person\" }}\r\n *   isSelected={true}\r\n *   onClick={() => handleSelect(\"node_1\")}\r\n * />\r\n */\r\nconst ItemCard: React.FC<ItemCardProps> = ({\r\n  id,\r\n  label,\r\n  type,\r\n  metadata,\r\n  isSelected = false,\r\n  isHighlighted = false,\r\n  onClick,\r\n  className,\r\n}) => {\r\n  const typeColors: Record<string, string> = {\r\n    node: \"bg-blue-100 text-blue-800\",\r\n    edge: \"bg-green-100 text-green-800\",\r\n    hyperedge: \"bg-purple-100 text-purple-800\",\r\n    item: \"bg-gray-100 text-gray-800\",\r\n  };\r\n\r\n  const typeBorders: Record<string, string> = {\r\n    node: \"border-blue-300 hover:border-blue-500\",\r\n    edge: \"border-green-300 hover:border-green-500\",\r\n    hyperedge: \"border-purple-300 hover:border-purple-500\",\r\n    item: \"border-gray-300 hover:border-gray-500\",\r\n  };\r\n\r\n  // Extract metadata entries to display from raw data\r\n  const displayEntries = useMemo(() => {\r\n    if (!metadata) return [];\r\n    \r\n    const rawData = metadata.raw;\r\n    \r\n    if (rawData && typeof rawData === 'object' && !Array.isArray(rawData)) {\r\n      return Object.entries(rawData).slice(0, 2);\r\n    }\r\n    \r\n    // Fallback: show other metadata fields\r\n    return Object.entries(metadata)\r\n      .filter(([key]) => !['raw', 'data'].includes(key))\r\n      .slice(0, 2);\r\n  }, [metadata]);\r\n\r\n  return (\r\n    <Card\r\n      onClick={onClick}\r\n      className={cn(\r\n        \"p-4 cursor-pointer transition-all duration-200 transform hover:scale-105\",\r\n        \"border-2\",\r\n        typeBorders[type],\r\n        isHighlighted\r\n          ? \"shadow-lg ring-2 ring-offset-2 ring-yellow-400 bg-yellow-50\"\r\n          : isSelected\r\n          ? \"shadow-lg ring-2 ring-offset-2 ring-primary\"\r\n          : \"shadow hover:shadow-md\",\r\n        className\r\n      )}\r\n    >\r\n      <div className=\"space-y-2\">\r\n        {/* Label */}\r\n        <div className=\"font-semibold text-sm truncate text-foreground\">{label}</div>\r\n\r\n        {/* Type Badge */}\r\n        <Badge variant=\"secondary\" className={cn(\"inline-block text-xs\", typeColors[type])}>\r\n          {type}\r\n        </Badge>\r\n\r\n        {/* Metadata preview - show 2 key-value pairs from raw data */}\r\n        {displayEntries.length > 0 && (\r\n          <div className=\"text-xs text-muted-foreground pt-1 border-t border-border\">\r\n            <div className=\"space-y-1\">\r\n              {displayEntries.map(([key, value], idx) => (\r\n                <div key={key} className=\"truncate\">\r\n                  <span className=\"font-semibold\">{key}:</span>{\" \"}\r\n                  {typeof value === \"string\"\r\n                    ? value.length > 15 ? value.substring(0, 15) + \"...\" : value\r\n                    : typeof value === \"object\"\r\n                    ? JSON.stringify(value).substring(0, 15) + \"...\"\r\n                    : String(value)}\r\n                  {idx === 1 && displayEntries.length === 2 && metadata && Object.keys(metadata).length > 2 ? \"...\" : \"\"}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ItemCard;\r\n"],"names":["ItemCard","id","label","type","metadata","isSelected","isHighlighted","onClick","className","typeColors","typeBorders","displayEntries","useMemo","rawData","key","jsx","Card","cn","jsxs","Badge","value","idx"],"mappings":"oEA4CA,MAAMA,EAAoC,CAAC,CACzC,GAAAC,EACA,MAAAC,EACA,KAAAC,EACA,SAAAC,EACA,WAAAC,EAAa,GACb,cAAAC,EAAgB,GAChB,QAAAC,EACA,UAAAC,CACF,IAAM,CACJ,MAAMC,EAAqC,CACzC,KAAM,4BACN,KAAM,8BACN,UAAW,gCACX,KAAM,2BAAA,EAGFC,EAAsC,CAC1C,KAAM,wCACN,KAAM,0CACN,UAAW,4CACX,KAAM,uCAAA,EAIFC,EAAiBC,EAAAA,QAAQ,IAAM,CACnC,GAAI,CAACR,EAAU,MAAO,CAAA,EAEtB,MAAMS,EAAUT,EAAS,IAEzB,OAAIS,GAAW,OAAOA,GAAY,UAAY,CAAC,MAAM,QAAQA,CAAO,EAC3D,OAAO,QAAQA,CAAO,EAAE,MAAM,EAAG,CAAC,EAIpC,OAAO,QAAQT,CAAQ,EAC3B,OAAO,CAAC,CAACU,CAAG,IAAM,CAAC,CAAC,MAAO,MAAM,EAAE,SAASA,CAAG,CAAC,EAChD,MAAM,EAAG,CAAC,CACf,EAAG,CAACV,CAAQ,CAAC,EAEb,OACEW,EAAAA,IAACC,EAAA,CACC,QAAAT,EACA,UAAWU,EACT,2EACA,WACAP,EAAYP,CAAI,EAChBG,EACI,8DACAD,EACA,8CACA,yBACJG,CAAA,EAGF,SAAAU,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAH,EAAAA,IAAC,MAAA,CAAI,UAAU,iDAAkD,SAAAb,EAAM,EAGvEa,EAAAA,IAACI,EAAA,CAAM,QAAQ,YAAY,UAAWF,EAAG,uBAAwBR,EAAWN,CAAI,CAAC,EAC9E,SAAAA,CAAA,CACH,EAGCQ,EAAe,OAAS,GACvBI,EAAAA,IAAC,OAAI,UAAU,4DACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,YACZ,WAAe,IAAI,CAAC,CAACD,EAAKM,CAAK,EAAGC,IACjCH,EAAAA,KAAC,MAAA,CAAc,UAAU,WACvB,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,gBAAiB,SAAA,CAAAJ,EAAI,GAAA,EAAC,EAAQ,IAC7C,OAAOM,GAAU,SACdA,EAAM,OAAS,GAAKA,EAAM,UAAU,EAAG,EAAE,EAAI,MAAQA,EACrD,OAAOA,GAAU,SACjB,KAAK,UAAUA,CAAK,EAAE,UAAU,EAAG,EAAE,EAAI,MACzC,OAAOA,CAAK,EACfC,IAAQ,GAAKV,EAAe,SAAW,GAAKP,GAAY,OAAO,KAAKA,CAAQ,EAAE,OAAS,EAAI,MAAQ,EAAA,GAP5FU,CAQV,CACD,CAAA,CACH,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,CAAA,CAGN"}