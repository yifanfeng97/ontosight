{"version":3,"file":"ListView-3HkEOU-p.js","sources":["../../../frontend/src/components/views/ListView.tsx"],"sourcesContent":["import { memo, useState, useMemo } from \"react\";\r\nimport { ItemCard } from \"@/components/ui\";\r\nimport { useVisualization } from \"@/hooks/useVisualization\";\r\n\r\ninterface ListViewProps {\r\n  data: any;\r\n  meta: any;\r\n}\r\n\r\nconst ListView = memo(function ListView({ data }: ListViewProps) {\r\n  const { selectedItems, selectItem, deselectItem, resetTrigger } = useVisualization();\r\n\r\n  // Shuffle items when reset is triggered\r\n  const shuffledItems = useMemo(() => {\r\n    if (!data.items || data.items.length === 0) return [];\r\n    // Create a copy and shuffle it\r\n    const items = [...data.items];\r\n    for (let i = items.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      [items[i], items[j]] = [items[j], items[i]];\r\n    }\r\n    return items;\r\n  }, [data.items, resetTrigger]);\r\n\r\n  if (!shuffledItems || shuffledItems.length === 0) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-96 text-muted-foreground\">\r\n        <p>No items to display</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full h-full flex flex-col overflow-hidden\">\r\n      {/* Grid of cards */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        <div className=\"p-4 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 auto-rows-max\">\r\n          {shuffledItems.map((item: any) => {\r\n            const itemId = item.id;\r\n            // Extract label from nested data structure\r\n            const itemData = item.data || item;\r\n            const label = itemData.label || item.label || \"Unknown\";\r\n            // Use raw data if available, otherwise use item data\r\n            const itemMetadata = itemData.raw || itemData || item;\r\n            const isHighlighted = item.highlighted === true;\r\n            \r\n            return (\r\n              <ItemCard\r\n                key={itemId}\r\n                id={itemId}\r\n                label={label}\r\n                type=\"item\"\r\n                metadata={{ raw: itemMetadata }}\r\n                isSelected={selectedItems.has(itemId)}\r\n                isHighlighted={isHighlighted}\r\n                onClick={() => {\r\n                  selectItem(itemId, \"item\");\r\n                }}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ListView;\r\n"],"names":["ListView","memo","data","selectedItems","selectItem","deselectItem","resetTrigger","useVisualization","shuffledItems","useMemo","items","i","j","jsx","item","itemId","itemData","label","itemMetadata","isHighlighted","ItemCard"],"mappings":"kGASA,MAAMA,EAAWC,EAAAA,KAAK,SAAkB,CAAE,KAAAC,GAAuB,CAC/D,KAAM,CAAE,cAAAC,EAAe,WAAAC,EAAY,aAAAC,EAAc,aAAAC,CAAA,EAAiBC,EAAA,EAG5DC,EAAgBC,EAAAA,QAAQ,IAAM,CAClC,GAAI,CAACP,EAAK,OAASA,EAAK,MAAM,SAAW,QAAU,CAAA,EAEnD,MAAMQ,EAAQ,CAAC,GAAGR,EAAK,KAAK,EAC5B,QAASS,EAAID,EAAM,OAAS,EAAGC,EAAI,EAAGA,IAAK,CACzC,MAAMC,EAAI,KAAK,MAAM,KAAK,UAAYD,EAAI,EAAE,EAC5C,CAACD,EAAMC,CAAC,EAAGD,EAAME,CAAC,CAAC,EAAI,CAACF,EAAME,CAAC,EAAGF,EAAMC,CAAC,CAAC,CAC5C,CACA,OAAOD,CACT,EAAG,CAACR,EAAK,MAAOI,CAAY,CAAC,EAE7B,MAAI,CAACE,GAAiBA,EAAc,SAAW,QAE1C,MAAA,CAAI,UAAU,8DACb,SAAAK,EAAAA,IAAC,IAAA,CAAE,+BAAmB,CAAA,CACxB,EAKFA,EAAAA,IAAC,MAAA,CAAI,UAAU,8CAEb,eAAC,MAAA,CAAI,UAAU,uBACb,SAAAA,EAAAA,IAAC,OAAI,UAAU,yEACZ,SAAAL,EAAc,IAAKM,GAAc,CAChC,MAAMC,EAASD,EAAK,GAEdE,EAAWF,EAAK,MAAQA,EACxBG,EAAQD,EAAS,OAASF,EAAK,OAAS,UAExCI,EAAeF,EAAS,KAAOA,GAAYF,EAC3CK,EAAgBL,EAAK,cAAgB,GAE3C,OACED,EAAAA,IAACO,EAAA,CAEC,GAAIL,EACJ,MAAAE,EACA,KAAK,OACL,SAAU,CAAE,IAAKC,CAAA,EACjB,WAAYf,EAAc,IAAIY,CAAM,EACpC,cAAAI,EACA,QAAS,IAAM,CACbf,EAAWW,EAAQ,MAAM,CAC3B,CAAA,EATKA,CAAA,CAYX,CAAC,CAAA,CACH,CAAA,CACF,EACF,CAEJ,CAAC"}