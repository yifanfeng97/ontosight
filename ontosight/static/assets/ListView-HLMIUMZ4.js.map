{"version":3,"file":"ListView-HLMIUMZ4.js","sources":["../../../frontend/node_modules/lucide-react/dist/esm/icons/chevron-right.js","../../../frontend/src/components/views/ListView.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m9 18 6-6-6-6\", key: \"mthhwq\" }]];\nconst ChevronRight = createLucideIcon(\"chevron-right\", __iconNode);\n\nexport { __iconNode, ChevronRight as default };\n//# sourceMappingURL=chevron-right.js.map\n","import { memo, useState, useMemo } from \"react\";\nimport { ChevronDown, ChevronRight } from \"lucide-react\";\nimport { useVisualization } from \"@/hooks/useVisualization\";\n\ninterface ListViewProps {\n  data: any;\n  meta: any;\n}\n\nconst ListView = memo(function ListView({ data }: ListViewProps) {\n  const { selectedItems, selectItem, resetTrigger } = useVisualization();\n  const [expandedId, setExpandedId] = useState<string | null>(null);\n\n  // Shuffle items when reset is triggered\n  const shuffledItems = useMemo(() => {\n    if (!data.items || data.items.length === 0) return [];\n    // Create a copy and shuffle it\n    const items = [...data.items];\n    for (let i = items.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [items[i], items[j]] = [items[j], items[i]];\n    }\n    return items;\n  }, [data.items, resetTrigger]);\n\n  if (!shuffledItems || shuffledItems.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-96 text-muted-foreground\">\n        <p>No items to display</p>\n      </div>\n    );\n  }\n\n  const toggleExpand = (id: string) => {\n    setExpandedId(expandedId === id ? null : id);\n  };\n\n  return (\n    <div className=\"w-full h-full flex flex-col overflow-hidden\">\n      <div className=\"flex-1 overflow-y-auto\">\n        <div className=\"space-y-1\">\n          {shuffledItems.map((item: any) => (\n            <ListItemRow\n              key={item.id}\n              item={item}\n              isSelected={selectedItems.has(item.id)}\n              isExpanded={expandedId === item.id}\n              onSelect={() => selectItem(item.id, \"item\")}\n              onToggleExpand={() => toggleExpand(item.id)}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n});\n\ninterface ListItemRowProps {\n  item: any;\n  isSelected: boolean;\n  isExpanded: boolean;\n  onSelect: () => void;\n  onToggleExpand: () => void;\n}\n\nfunction ListItemRow({\n  item,\n  isSelected,\n  isExpanded,\n  onSelect,\n  onToggleExpand,\n}: ListItemRowProps) {\n  const label = item.data?.label || item.id;\n  const hasData = item.data && Object.keys(item.data).length > 0;\n\n  return (\n    <div className=\"border-b border-border/50\">\n      {/* List Item Header */}\n      <div\n        className={`flex items-center gap-2 px-3 py-2 cursor-pointer transition-colors ${\n          isSelected\n            ? \"bg-primary/10 hover:bg-primary/15\"\n            : \"hover:bg-muted/50\"\n        }`}\n        onClick={onSelect}\n      >\n        {/* Expand Toggle */}\n        {hasData && (\n          <button\n            className=\"flex-shrink-0 p-0.5 hover:bg-muted/50 rounded\"\n            onClick={(e) => {\n              e.stopPropagation();\n              onToggleExpand();\n            }}\n          >\n            {isExpanded ? (\n              <ChevronDown size={16} className=\"text-muted-foreground\" />\n            ) : (\n              <ChevronRight size={16} className=\"text-muted-foreground\" />\n            )}\n          </button>\n        )}\n        {!hasData && <div className=\"w-5\" />}\n\n        {/* Item Label */}\n        <div className=\"flex-1 min-w-0\">\n          <p className=\"text-sm font-medium text-foreground truncate\">{label}</p>\n          <p className=\"text-xs text-muted-foreground truncate\">{item.id}</p>\n        </div>\n\n        {/* Selection Indicator */}\n        <div className=\"flex-shrink-0 w-2 h-2 rounded-full bg-primary opacity-0 transition-opacity\" />\n      </div>\n\n      {/* Expanded Details Table */}\n      {isExpanded && hasData && (\n        <div className=\"px-3 py-2 bg-muted/20 border-t border-border/30\">\n          <DataTable data={item.data} />\n        </div>\n      )}\n    </div>\n  );\n}\n\ninterface DataTableProps {\n  data: Record<string, any>;\n}\n\nfunction DataTable({ data }: DataTableProps) {\n  return (\n    <div className=\"space-y-1\">\n      {Object.entries(data).map(([key, value]) => (\n        <div key={key} className=\"flex items-start gap-2 text-xs\">\n          <span className=\"font-mono font-semibold text-muted-foreground min-w-32 flex-shrink-0\">\n            {key}:\n          </span>\n          <span className=\"text-foreground break-words flex-1\">\n            {formatValue(value)}\n          </span>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nfunction formatValue(value: any): string {\n  if (value === null || value === undefined) {\n    return \"â€”\";\n  }\n  if (typeof value === \"object\") {\n    return JSON.stringify(value);\n  }\n  return String(value);\n}\n\nexport default ListView;\n"],"names":["__iconNode","ChevronRight","createLucideIcon","ListView","memo","data","selectedItems","selectItem","resetTrigger","useVisualization","expandedId","setExpandedId","useState","shuffledItems","useMemo","items","j","jsx","toggleExpand","id","item","ListItemRow","isSelected","isExpanded","onSelect","onToggleExpand","label","_a","hasData","jsxs","e","ChevronDown","DataTable","key","value","formatValue"],"mappings":"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","x_google_ignoreList":[0]}